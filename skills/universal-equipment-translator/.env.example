# Equipment Translator Environment Variables

# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control

# ============================================
# CAN Interface Configuration
# ============================================

# CAN interface name (e.g., can0, can1)
# Use 'ip link show' to list available interfaces
CAN_INTERFACE=can0

# CAN baud rate (250000 or 500000 typical for agriculture)
# 250K = 250 kbps, 500K = 500 kbps
CAN_BAUDRATE=250000

# CAN bus type (socketcan, vector, peak)
CAN_TYPE=socketcan

# ============================================
# Translation Settings
# ============================================

# Translation mode
# iso11783: Enforce ISO 11783 standard compliance
# raw: Pass through without translation
# hybrid: Standard ISO 11783 with fallback to raw
TRANSLATION_MODE=iso11783

# Disable safety overrides (RECOMMENDED: always keep this true)
# true: Never modify safety-critical messages
# false: Allow safety modifications (DANGEROUS - not recommended)
SAFETY_OVERRIDE_DISABLED=true

# Default manufacturer profile for unidentified equipment
# Options: johndeere, caseih, agco, universal
DEFAULT_MANUFACTURER=universal

# ============================================
# Logging Configuration
# ============================================

# Log level: debug, info, warn, error
TRANSLATION_LOG_LEVEL=info

# Log file path
TRANSLATION_LOG_FILE=/var/log/equipment-translator.log

# Maximum log file size (in MB)
TRANSLATION_LOG_MAX_SIZE=100

# Number of log files to rotate
TRANSLATION_LOG_ROTATION=5

# Log CAN messages (verbose - produces large logs)
LOG_CAN_MESSAGES=false

# ============================================
# Protocol Database
# ============================================

# Path to protocol database (SQLite)
PROTOCOL_DB_PATH=/opt/equipment-translator/protocols.db

# Enable offline mode (use cached protocols only)
# true: No external API calls, use cached data
# false: Allow external protocol updates
OFFLINE_MODE=true

# Protocol update check interval (in hours)
# 0 = disable automatic updates
PROTOCOL_UPDATE_INTERVAL=168

# ============================================
# API Keys (Optional)
# ============================================

# Manufacturer API access (if available for extended functionality)
# These are OPTIONAL - skill works without them

# John Deere API (for extended diagnostics)
JD_API_KEY=
JD_API_SECRET=
JD_API_ENVIRONMENT=prod

# Case IH AFS API
CASE_API_KEY=
CASE_API_SECRET=

# AGCO Fuse API
AGCO_API_KEY=
AGCO_API_SECRET=

# OpenAg Consortium API (for protocol updates)
OPENAG_API_KEY=

# ============================================
# Debug and Development
# ============================================

# Enable debug mode (additional logging and validation)
DEBUG_MODE=false

# Validate all CAN messages before forwarding
# Slows performance but catches errors early
VALIDATE_MESSAGES=true

# Enable CAN message replay for testing
REPLAY_ENABLED=false

# Replay log file path
REPLAY_LOG_FILE=/var/log/equipment-translator-replay.log

# ============================================
# Hardware-Specific Settings
# ============================================

# CAN interface hardware
# Options: socketcan, vector, peak, kvaser
CAN_HARDWARE=socketcan

# Vector hardware settings (if using Vector interface)
VECTOR_CHANNEL=0
VECTOR_DRIVER=virtual

# PEAK hardware settings (if using PEAK PCAN)
PEAK_CHANNEL=PCAN_USBBUS1

# ============================================
# Safety and Limits
# ============================================

# Maximum message rate per second (prevents bus flooding)
MAX_MESSAGE_RATE=1000

# Timeout for unresponsive ECUs (in milliseconds)
ECU_TIMEOUT=5000

# Number of consecutive failures before switching modes
FAILURE_THRESHOLD=10

# ============================================
# Notifications
# ============================================

# Enable error notifications (email, etc.)
ERROR_NOTIFICATIONS_ENABLED=false

# Email for error notifications
ERROR_NOTIFICATION_EMAIL=

# SMTP server for notifications (if using email)
SMTP_SERVER=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=Equipment-Translator <noreply@farmfriendlabs.com>
